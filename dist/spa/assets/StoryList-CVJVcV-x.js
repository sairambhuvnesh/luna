import{a as n,A as F,b as O,g as C,c as y,r as d,i as V,o as U,h as r,T as W,w as G,s as J,t as K,u as h,v as X,y as g,B as Q}from"./index-DslHU8qS.js";import{v as S,h as _,d as Y,u as Z,e as p,Q as ee}from"./QBtn-TokGPlEZ.js";import{Q as te}from"./QPage-CSTkAqf5.js";const ae={ratio:[String,Number]};function ie(e,i){return n(()=>{const a=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}function L(){let e=null;const i=C();function a(){e!==null&&(clearTimeout(e),e=null)}return F(a),O(a),{removeTimeout:a,registerTimeout(o,l){a(),S(i)===!1&&(e=setTimeout(()=>{e=null,o()},l))}}}const re=1.7778,ne=y({name:"QImg",props:{...ae,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:re},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:a}){const o=d(e.initialRatio),l=ie(e,o),b=C(),{registerTimeout:N,removeTimeout:q}=L(),{registerTimeout:R,removeTimeout:T}=L(),w=n(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),A=n(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),u=[d(null),d(w.value)],s=d(0),m=d(!1),f=d(!1),D=n(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),$=n(()=>({width:e.width,height:e.height})),I=n(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),j=n(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function x(){if(T(),e.loadingShowDelay===0){m.value=!0;return}R(()=>{m.value=!0},e.loadingShowDelay)}function k(){T(),m.value=!1}function P({target:t}){S(b)===!1&&(q(),o.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,B(t,1))}function B(t,c){c===1e3||S(b)===!0||(t.complete===!0?H(t):N(()=>{B(t,c+1)},50))}function H(t){S(b)!==!0&&(s.value=s.value^1,u[s.value].value=null,k(),t.getAttribute("__qerror")!=="true"&&(f.value=!1),a("load",t.currentSrc||t.src))}function M(t){q(),k(),f.value=!0,u[s.value].value=A.value,u[s.value^1].value=w.value,a("error",t)}function z(t){const c=u[t].value,v={key:"img_"+t,class:I.value,style:j.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return s.value===t?Object.assign(v,{class:v.class+"current",onLoad:P,onError:M}):v.class+="loaded",r("div",{class:"q-img__container absolute-full",key:"img"+t},r("img",v))}function E(){return m.value===!1?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},_(i[f.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[r(Y,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){G(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,c=>{q(),f.value=!1,c===null?(k(),u[s.value^1].value=w.value):x(),u[s.value].value=c},{immediate:!0})};V.value===!0?U(t):t()}return()=>{const t=[];return l.value!==null&&t.push(r("div",{key:"filler",style:l.value})),u[0].value!==null&&t.push(z(0)),u[1].value!==null&&t.push(z(1)),t.push(r(W,{name:"q-transition--fade"},E)),r("div",{key:"main",class:D.value,style:$.value,role:"img","aria-label":e.alt},t)}}}),oe=y({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:i}){const a=n(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>r(e.tag,{class:a.value},_(i.default))}}),le=y({name:"QCardActions",props:{...Z,vertical:Boolean},setup(e,{slots:i}){const a=p(e),o=n(()=>`q-card__actions ${a.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>r("div",{class:o.value},_(i.default))}}),ue={dark:{type:Boolean,default:null}};function se(e,i){return n(()=>e.dark===null?i.dark.isActive:e.dark)}const ce=y({name:"QCard",props:{...ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:i}){const{proxy:{$q:a}}=C(),o=se(e,a),l=n(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>r(e.tag,{class:l.value},_(i.default))}}),fe={__name:"StoryList",setup(e){const i=X();function a(){i.push("/story/luna-lion/page/1")}return(o,l)=>(K(),J(te,{padding:""},{default:h(()=>[g(ce,{class:"q-ma-md",flat:"",bordered:""},{default:h(()=>[g(ne,{src:"https://mfmiqenyivuigbzhcfow.supabase.co/storage/v1/object/public/story-assets/luna-lion/cover.png",ratio:"16/9"}),g(oe,null,{default:h(()=>l[0]||(l[0]=[Q("div",{class:"text-h5"},"Luna the Little Lion",-1),Q("div",{class:"text-subtitle2"},"An adventure through the jungle!",-1)])),_:1,__:[0]}),g(le,{align:"right"},{default:h(()=>[g(ee,{label:"Read",color:"primary",onClick:a})]),_:1})]),_:1})]),_:1}))}};export{fe as default};
